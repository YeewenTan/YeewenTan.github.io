<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_60) on Sun Jun 19 15:23:08 PDT 2016 -->
<title>MNISTRecordReader</title>
<meta name="date" content="2016-06-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MNISTRecordReader";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/canova/image/recordreader/ImageRecordReader.html" title="class in org.canova.image.recordreader"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/canova/image/recordreader/TestImageRecordReader.html" title="class in org.canova.image.recordreader"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/canova/image/recordreader/MNISTRecordReader.html" target="_top">Frames</a></li>
<li><a href="MNISTRecordReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.canova.image.recordreader</div>
<h2 title="Class MNISTRecordReader" class="title">Class MNISTRecordReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/canova/api/records/reader/BaseRecordReader.html" title="class in org.canova.api.records.reader">org.canova.api.records.reader.BaseRecordReader</a></li>
<li>
<ul class="inheritance">
<li>org.canova.image.recordreader.MNISTRecordReader</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Closeable, java.io.Serializable, java.lang.AutoCloseable, <a href="../../../../org/canova/api/conf/Configurable.html" title="interface in org.canova.api.conf">Configurable</a>, <a href="../../../../org/canova/api/records/reader/RecordReader.html" title="interface in org.canova.api.records.reader">RecordReader</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MNISTRecordReader</span>
extends <a href="../../../../org/canova/api/records/reader/BaseRecordReader.html" title="class in org.canova.api.records.reader">BaseRecordReader</a></pre>
<div class="block">Record reader that understands the MNIST file format as described here:
 
 http://yann.lecun.com/exdb/mnist/
 
 Not built to handle splits of the file, for now forces a single worker to process file
 
 Why?
 - the MNIST training file is 47MB unzipped
 - right now (June 2015) Canova only runs in local/serial mode
 - when we add MapReduce as a runtime engine, the training file size (47MB) is still smaller 
                than the lowest production block size in HDFS these days (64MB, 128MB), so normally MapReduce's
                scheduling system would not split the file (unless you manually set the file's block size lower)
 - This input format's main purpose is to read MNIST raw data into Canova to be written out
                as another format (SVMLight most likely) for DL4J's input format's to read  

 
 
 Assumes that file exists locally and has been unzipped
 
 Why?
 -      When we do port this input format to be HDFS-aware, these mechanics will be incompatible
                        (we dont want N workers all trying to download files or coordinate who is downloading the file)</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../serialized-form.html#org.canova.image.recordreader.MNISTRecordReader">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.nd4j.linalg.dataset.DataSet</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#curr">curr</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/canova/api/split/InputSplit.html" title="interface in org.canova.api.split">InputSplit</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#inputSplit">inputSplit</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#LOCAL_DIR_NAME">LOCAL_DIR_NAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#MNIST_ROOT">MNIST_ROOT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#NUM_EXAMPLES">NUM_EXAMPLES</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#TEMP_ROOT">TEMP_ROOT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#TRAINING_FILE_LABELS_FILENAME">TRAINING_FILE_LABELS_FILENAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#TRAINING_FILE_LABELS_FILENAME_UNZIPPED">TRAINING_FILE_LABELS_FILENAME_UNZIPPED</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#TRAINING_FILE_LABELS_URL">TRAINING_FILE_LABELS_URL</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#TRAINING_FILES_FILENAME">TRAINING_FILES_FILENAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#TRAINING_FILES_FILENAME_UNZIPPED">TRAINING_FILES_FILENAME_UNZIPPED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#TRAINING_FILES_URL">TRAINING_FILES_URL</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.canova.api.records.reader.BaseRecordReader">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.canova.api.records.reader.<a href="../../../../org/canova/api/records/reader/BaseRecordReader.html" title="class in org.canova.api.records.reader">BaseRecordReader</a></h3>
<code><a href="../../../../org/canova/api/records/reader/BaseRecordReader.html#listeners">listeners</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.canova.api.records.reader.RecordReader">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.canova.api.records.reader.<a href="../../../../org/canova/api/records/reader/RecordReader.html" title="interface in org.canova.api.records.reader">RecordReader</a></h3>
<code><a href="../../../../org/canova/api/records/reader/RecordReader.html#APPEND_LABEL">APPEND_LABEL</a>, <a href="../../../../org/canova/api/records/reader/RecordReader.html#LABELS">LABELS</a>, <a href="../../../../org/canova/api/records/reader/RecordReader.html#NAME_SPACE">NAME_SPACE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#MNISTRecordReader()">MNISTRecordReader</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.nd4j.linalg.api.ndarray.INDArray</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#createInputMatrix(int)">createInputMatrix</a></strong>(int&nbsp;numRows)</code>
<div class="block">Creates a feature vector</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.nd4j.linalg.api.ndarray.INDArray</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#createOutputMatrix(int)">createOutputMatrix</a></strong>(int&nbsp;numRows)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.nd4j.linalg.api.ndarray.INDArray</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#createOutputVector(int)">createOutputVector</a></strong>(int&nbsp;outcomeLabel)</code>
<div class="block">Creates an output label matrix</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#fetchNext()">fetchNext</a></strong>()</code>
<div class="block">Based on logic from fetcher:
 
 https://github.com/deeplearning4j/deeplearning4j/blob/master/deeplearning4j-core/src/main/java/org/deeplearning4j/datasets/fetchers/MnistDataFetcher.java
 
 
 The cursor logic here is broken.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/canova/api/conf/Configuration.html" title="class in org.canova.api.conf">Configuration</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#getConf()">getConf</a></strong>()</code>
<div class="block">Return the configuration used by this object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#getLabels()">getLabels</a></strong>()</code>
<div class="block">List of label strings</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#hasNext()">hasNext</a></strong>()</code>
<div class="block">Whether there are anymore records</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#initialize(org.canova.api.conf.Configuration,%20org.canova.api.split.InputSplit)">initialize</a></strong>(<a href="../../../../org/canova/api/conf/Configuration.html" title="class in org.canova.api.conf">Configuration</a>&nbsp;conf,
          <a href="../../../../org/canova/api/split/InputSplit.html" title="interface in org.canova.api.split">InputSplit</a>&nbsp;split)</code>
<div class="block">Called once at initialization.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#initialize(org.canova.api.split.InputSplit)">initialize</a></strong>(<a href="../../../../org/canova/api/split/InputSplit.html" title="interface in org.canova.api.split">InputSplit</a>&nbsp;split)</code>
<div class="block">Called once at initialization.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#initializeCurrFromList(java.util.List)">initializeCurrFromList</a></strong>(java.util.List&lt;org.nd4j.linalg.dataset.DataSet&gt;&nbsp;examples)</code>
<div class="block">Initializes this data transform fetcher from the passed in datasets</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/canova/api/writable/Writable.html" title="interface in org.canova.api.writable">Writable</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#next()">next</a></strong>()</code>
<div class="block">Basic logic:
 
                1.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/canova/api/writable/Writable.html" title="interface in org.canova.api.writable">Writable</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#record(java.net.URI,%20java.io.DataInputStream)">record</a></strong>(java.net.URI&nbsp;uri,
      java.io.DataInputStream&nbsp;dataInputStream)</code>
<div class="block">Load the record from the given DataInputStream
 Unlike <a href="../../../../org/canova/api/records/reader/RecordReader.html#next()"><code>RecordReader.next()</code></a> the internal state of the RecordReader is not modified
 Implementations of this method should not close the DataInputStream</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#reset()">reset</a></strong>()</code>
<div class="block">Reset record reader iterator</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/canova/image/recordreader/MNISTRecordReader.html#setConf(org.canova.api.conf.Configuration)">setConf</a></strong>(<a href="../../../../org/canova/api/conf/Configuration.html" title="class in org.canova.api.conf">Configuration</a>&nbsp;conf)</code>
<div class="block">Set the configuration to be used by this object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.canova.api.records.reader.BaseRecordReader">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.canova.api.records.reader.<a href="../../../../org/canova/api/records/reader/BaseRecordReader.html" title="class in org.canova.api.records.reader">BaseRecordReader</a></h3>
<code><a href="../../../../org/canova/api/records/reader/BaseRecordReader.html#getListeners()">getListeners</a>, <a href="../../../../org/canova/api/records/reader/BaseRecordReader.html#invokeListeners(java.lang.Object)">invokeListeners</a>, <a href="../../../../org/canova/api/records/reader/BaseRecordReader.html#setListeners(java.util.Collection)">setListeners</a>, <a href="../../../../org/canova/api/records/reader/BaseRecordReader.html#setListeners(org.canova.api.records.listener.RecordListener...)">setListeners</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="curr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>curr</h4>
<pre>protected&nbsp;org.nd4j.linalg.dataset.DataSet curr</pre>
</li>
</ul>
<a name="inputSplit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputSplit</h4>
<pre>protected&nbsp;<a href="../../../../org/canova/api/split/InputSplit.html" title="interface in org.canova.api.split">InputSplit</a> inputSplit</pre>
</li>
</ul>
<a name="TRAINING_FILES_URL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRAINING_FILES_URL</h4>
<pre>public static final&nbsp;java.lang.String TRAINING_FILES_URL</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.canova.image.recordreader.MNISTRecordReader.TRAINING_FILES_URL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TRAINING_FILES_FILENAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRAINING_FILES_FILENAME</h4>
<pre>public static final&nbsp;java.lang.String TRAINING_FILES_FILENAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.canova.image.recordreader.MNISTRecordReader.TRAINING_FILES_FILENAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TRAINING_FILES_FILENAME_UNZIPPED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRAINING_FILES_FILENAME_UNZIPPED</h4>
<pre>public static final&nbsp;java.lang.String TRAINING_FILES_FILENAME_UNZIPPED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.canova.image.recordreader.MNISTRecordReader.TRAINING_FILES_FILENAME_UNZIPPED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TRAINING_FILE_LABELS_URL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRAINING_FILE_LABELS_URL</h4>
<pre>public static final&nbsp;java.lang.String TRAINING_FILE_LABELS_URL</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.canova.image.recordreader.MNISTRecordReader.TRAINING_FILE_LABELS_URL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TRAINING_FILE_LABELS_FILENAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRAINING_FILE_LABELS_FILENAME</h4>
<pre>public static final&nbsp;java.lang.String TRAINING_FILE_LABELS_FILENAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.canova.image.recordreader.MNISTRecordReader.TRAINING_FILE_LABELS_FILENAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TRAINING_FILE_LABELS_FILENAME_UNZIPPED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRAINING_FILE_LABELS_FILENAME_UNZIPPED</h4>
<pre>public static final&nbsp;java.lang.String TRAINING_FILE_LABELS_FILENAME_UNZIPPED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.canova.image.recordreader.MNISTRecordReader.TRAINING_FILE_LABELS_FILENAME_UNZIPPED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="LOCAL_DIR_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCAL_DIR_NAME</h4>
<pre>public static final&nbsp;java.lang.String LOCAL_DIR_NAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.canova.image.recordreader.MNISTRecordReader.LOCAL_DIR_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TEMP_ROOT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TEMP_ROOT</h4>
<pre>public static final&nbsp;java.lang.String TEMP_ROOT</pre>
</li>
</ul>
<a name="MNIST_ROOT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MNIST_ROOT</h4>
<pre>public static final&nbsp;java.lang.String MNIST_ROOT</pre>
</li>
</ul>
<a name="NUM_EXAMPLES">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NUM_EXAMPLES</h4>
<pre>public static final&nbsp;int NUM_EXAMPLES</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.canova.image.recordreader.MNISTRecordReader.NUM_EXAMPLES">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MNISTRecordReader()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MNISTRecordReader</h4>
<pre>public&nbsp;MNISTRecordReader()
                  throws java.io.IOException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize(org.canova.api.split.InputSplit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;initialize(<a href="../../../../org/canova/api/split/InputSplit.html" title="interface in org.canova.api.split">InputSplit</a>&nbsp;split)
                throws java.io.IOException,
                       java.lang.InterruptedException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/canova/api/records/reader/RecordReader.html#initialize(org.canova.api.split.InputSplit)">RecordReader</a></code></strong></div>
<div class="block">Called once at initialization.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>split</code> - the split that defines the range of records to read</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd></dl>
</li>
</ul>
<a name="initialize(org.canova.api.conf.Configuration, org.canova.api.split.InputSplit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;initialize(<a href="../../../../org/canova/api/conf/Configuration.html" title="class in org.canova.api.conf">Configuration</a>&nbsp;conf,
              <a href="../../../../org/canova/api/split/InputSplit.html" title="interface in org.canova.api.split">InputSplit</a>&nbsp;split)
                throws java.io.IOException,
                       java.lang.InterruptedException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/canova/api/records/reader/RecordReader.html#initialize(org.canova.api.conf.Configuration,%20org.canova.api.split.InputSplit)">RecordReader</a></code></strong></div>
<div class="block">Called once at initialization.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - a configuration for initialization</dd><dd><code>split</code> - the split that defines the range of records to read</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd></dl>
</li>
</ul>
<a name="next()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/canova/api/writable/Writable.html" title="interface in org.canova.api.writable">Writable</a>&gt;&nbsp;next()</pre>
<div class="block">Basic logic:
 
                1. hit fetch() and have the MNISTManager class go pull a batch from the file (converting them over to matrices)
                2. loop through the DataSet(s) and convert them into a list of Writables
 
 
 Criticism of current design
 -      makes two passes over result set for conversion
 
 
 Reasoning for current design
 -      want to re-use older existing code, and need to get this out the door
 -      dataset is bounded to 60k records at most thus input is always constant 
 -      this input format never gets used beyond converting a demo dataset that's bounded
 
 
 
  LABEL
        -       added as last value</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="hasNext()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasNext</h4>
<pre>public&nbsp;boolean&nbsp;hasNext()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/canova/api/records/reader/RecordReader.html#hasNext()">RecordReader</a></code></strong></div>
<div class="block">Whether there are anymore records</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
</li>
</ul>
<a name="setConf(org.canova.api.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConf</h4>
<pre>public&nbsp;void&nbsp;setConf(<a href="../../../../org/canova/api/conf/Configuration.html" title="class in org.canova.api.conf">Configuration</a>&nbsp;conf)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/canova/api/conf/Configurable.html#setConf(org.canova.api.conf.Configuration)">Configurable</a></code></strong></div>
<div class="block">Set the configuration to be used by this object.</div>
</li>
</ul>
<a name="getConf()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConf</h4>
<pre>public&nbsp;<a href="../../../../org/canova/api/conf/Configuration.html" title="class in org.canova.api.conf">Configuration</a>&nbsp;getConf()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/canova/api/conf/Configurable.html#getConf()">Configurable</a></code></strong></div>
<div class="block">Return the configuration used by this object.</div>
</li>
</ul>
<a name="fetchNext()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNext</h4>
<pre>public&nbsp;boolean&nbsp;fetchNext()</pre>
<div class="block">Based on logic from fetcher:
 
 https://github.com/deeplearning4j/deeplearning4j/blob/master/deeplearning4j-core/src/main/java/org/deeplearning4j/datasets/fetchers/MnistDataFetcher.java
 
 
 The cursor logic here is broken.
        -       we need to make sure we can get one example and advance the cursor</div>
</li>
</ul>
<a name="createOutputVector(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOutputVector</h4>
<pre>protected&nbsp;org.nd4j.linalg.api.ndarray.INDArray&nbsp;createOutputVector(int&nbsp;outcomeLabel)</pre>
<div class="block">Creates an output label matrix</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>outcomeLabel</code> - the outcome label to use</dd>
<dt><span class="strong">Returns:</span></dt><dd>a binary vector where 1 is applyTransformToDestination to the
 index specified by outcomeLabel</dd></dl>
</li>
</ul>
<a name="createInputMatrix(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInputMatrix</h4>
<pre>protected&nbsp;org.nd4j.linalg.api.ndarray.INDArray&nbsp;createInputMatrix(int&nbsp;numRows)</pre>
<div class="block">Creates a feature vector</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>numRows</code> - the number of examples</dd>
<dt><span class="strong">Returns:</span></dt><dd>a feature vector</dd></dl>
</li>
</ul>
<a name="createOutputMatrix(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOutputMatrix</h4>
<pre>protected&nbsp;org.nd4j.linalg.api.ndarray.INDArray&nbsp;createOutputMatrix(int&nbsp;numRows)</pre>
</li>
</ul>
<a name="initializeCurrFromList(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeCurrFromList</h4>
<pre>protected&nbsp;void&nbsp;initializeCurrFromList(java.util.List&lt;org.nd4j.linalg.dataset.DataSet&gt;&nbsp;examples)</pre>
<div class="block">Initializes this data transform fetcher from the passed in datasets</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>examples</code> - the examples to use</dd></dl>
</li>
</ul>
<a name="getLabels()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLabels</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getLabels()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/canova/api/records/reader/RecordReader.html#getLabels()">RecordReader</a></code></strong></div>
<div class="block">List of label strings</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/canova/api/records/reader/RecordReader.html#reset()">RecordReader</a></code></strong></div>
<div class="block">Reset record reader iterator</div>
</li>
</ul>
<a name="record(java.net.URI, java.io.DataInputStream)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>record</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/canova/api/writable/Writable.html" title="interface in org.canova.api.writable">Writable</a>&gt;&nbsp;record(java.net.URI&nbsp;uri,
                                    java.io.DataInputStream&nbsp;dataInputStream)
                                      throws java.io.IOException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/canova/api/records/reader/RecordReader.html#record(java.net.URI,%20java.io.DataInputStream)">RecordReader</a></code></strong></div>
<div class="block">Load the record from the given DataInputStream
 Unlike <a href="../../../../org/canova/api/records/reader/RecordReader.html#next()"><code>RecordReader.next()</code></a> the internal state of the RecordReader is not modified
 Implementations of this method should not close the DataInputStream</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if error occurs during reading from the input stream</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/canova/image/recordreader/ImageRecordReader.html" title="class in org.canova.image.recordreader"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/canova/image/recordreader/TestImageRecordReader.html" title="class in org.canova.image.recordreader"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/canova/image/recordreader/MNISTRecordReader.html" target="_top">Frames</a></li>
<li><a href="MNISTRecordReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
